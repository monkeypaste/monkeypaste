<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
    <RunPostBuildEvent>Always</RunPostBuildEvent>
    <DisableFastUpToDateCheck>true</DisableFastUpToDateCheck>
  </PropertyGroup>
  
  <Target Name="PostBuild" AfterTargets="PostBuildEvent" Condition="'$(BuildOs)' == 'ANDROID'">
    <Exec Command="call $(ProjectDir)scripts\android\adb_wake.bat" />
    <Exec Command="call $(ProjectDir)scripts\android\adb_kill_mpav.bat $(AndroidPackageName)" />
    <Exec Command="call $(ProjectDir)scripts\android\adb_editor_to_android.bat" />
  </Target>
  
  <Target Name="PreBuild" BeforeTargets="PreBuildEvent" Condition="'$(BuildOs)' == 'WINDOWS'">
    <Exec Command="$(ProjectDir)scripts\windows\kill_mpav_processes.bat $(MainProjectName)" />
    <Exec Command="$(ProjectDir)scripts\windows\move_declarative_plugins_to_bin.bat $(PluginSourceDir) $(PluginTargetDir)" />
  </Target>
</Project>
