<local:MpUserControl x:Class="MpWpfApp.MpPasteToAppPathDataGridView"
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                     xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                     xmlns:local="clr-namespace:MpWpfApp"
                     x:TypeArguments="local:MpPasteToAppPathViewModelCollection"
                     mc:Ignorable="d"
                     d:DesignHeight="450"
                     d:DesignWidth="800"
                     d:DataContext="{d:DesignInstance Type=local:MpPasteToAppPathViewModelCollection,
                                                      IsDesignTimeCreatable=False}">

    <Grid>
        <StackPanel Orientation="Vertical">
            <Label Content="Paste to Applications" />
            <DataGrid x:Name="PasteToAppPathDatagrid"
                      ItemsSource="{Binding}"
                      SelectedItem="{Binding SelectedPasteToAppPathViewModel,
                                             Mode=TwoWay}"
                      SelectionChanged="PasteToAppPathDatagrid_SelectionChanged"
                      SelectionMode="Single"
                      Margin="10,0,10,5"
                      Width="Auto"
                      Height="Auto"
                      CanUserAddRows="False"
                      IsReadOnly="False"
                      AutoGenerateColumns="False">
                <DataGrid.Columns>
                    <DataGridTemplateColumn Width="50">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button x:Name="AppIconButton"
                                        BorderThickness="0"
                                        Cursor="Hand"
                                        Background="Transparent"
                                        Template="{StaticResource SearchButtonControlTemplate}"
                                        Command="{Binding ChangeIconCommand,
                                                          Source={x:Static local:MpIconCollectionViewModel.Instance}}"
                                        CommandParameter="{Binding RelativeSource={RelativeSource Self}}">
                                    <Image Width="20"
                                           Height="20"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           Source="{Binding AvatarId,
                                                            Converter={StaticResource DbImageIdToBitmapSourceConverter}}" />
                                </Button>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Header="Application"
                                            Width="*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Label Content="{Binding AppName}"
                                       VerticalAlignment="Center" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Header="Label"
                                            Width="200">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox IsReadOnly="{Binding IsReadOnly}"
                                         Background="Transparent"
                                         BorderThickness="0"
                                         Text="{Binding Label,
                                                        Mode=TwoWay,
                                                        UpdateSourceTrigger=LostFocus,
                                                        NotifyOnTargetUpdated=True,
                                                        NotifyOnSourceUpdated=True}"
                                         VerticalAlignment="Center" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Header="Arguments"
                                            Width="*">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox IsReadOnly="{Binding IsReadOnly}"
                                         Background="Transparent"
                                         BorderThickness="0"
                                         Text="{Binding Args,
                                                        Mode=TwoWay,
                                                        UpdateSourceTrigger=LostFocus,
                                                        NotifyOnTargetUpdated=True,
                                                        NotifyOnSourceUpdated=True}"
                                         VerticalAlignment="Center" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Header="Admin?"
                                            Width="Auto">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox HorizontalAlignment="Center"
                                          VerticalAlignment="Center"
                                          IsChecked="{Binding IsAdmin,
                                                              Mode=TwoWay,
                                                              UpdateSourceTrigger=PropertyChanged,
                                                              NotifyOnTargetUpdated=True,
                                                              NotifyOnSourceUpdated=True}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Header="Silent?"
                                            Width="Auto">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox HorizontalAlignment="Center"
                                          VerticalAlignment="Center"
                                          IsChecked="{Binding IsSilent,
                                                              Mode=TwoWay,
                                                              UpdateSourceTrigger=PropertyChanged,
                                                              NotifyOnTargetUpdated=True,
                                                              NotifyOnSourceUpdated=True}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Header="Execute?"
                                            Width="Auto">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox HorizontalAlignment="Center"
                                          VerticalAlignment="Center"
                                          IsChecked="{Binding PressEnter,
                                                              Mode=TwoWay,
                                                              UpdateSourceTrigger=PropertyChanged,
                                                              NotifyOnTargetUpdated=True,
                                                              NotifyOnSourceUpdated=True}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Header="Window"
                                            Width="100">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <ComboBox IsDropDownOpen="{Binding IsAnyDropDownOpen,
                                                                   Source={x:Static local:MpMainWindowViewModel.Instance},
                                                                   Mode=OneWayToSource}"
                                          SelectedIndex="{Binding SelectedWindowState,
                                                                  Mode=TwoWay,
                                                                  UpdateSourceTrigger=PropertyChanged,
                                                                  NotifyOnTargetUpdated=True,
                                                                  NotifyOnSourceUpdated=True}">
                                    <ComboBox.Items>
                                        <ComboBoxItem Content="Hide" />
                                        <ComboBoxItem Content="Normal" />
                                        <ComboBoxItem Content="Minimized" />
                                        <ComboBoxItem Content="Maximized" />
                                    </ComboBox.Items>
                                </ComboBox>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Width="50">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Background="White"
                                        BorderThickness="0"
                                        ToolTip="Delete"
                                        Command="{Binding RelativeSource={RelativeSource AncestorType={x:Type DataGrid}},
                                                          Path=DataContext.DeletePasteToAppPathCommand}">
                                    <Image Width="20"
                                           Height="20"
                                           Source="/MpWpfApp;component/Resources/Images/delete.png" />
                                </Button>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
            <Button Width="200"
                    Command="{Binding AddPasteToAppPathCommand}">
                <DockPanel>
                    <Image Source="/MpWpfApp;component/Resources/Images/add.png"
                           DockPanel.Dock="Left"
                           Width="20"
                           Height="20" />
                    <Label DockPanel.Dock="Right"
                           Content="Add App" />
                </DockPanel>
            </Button>
        </StackPanel>
    </Grid>
</local:MpUserControl>
