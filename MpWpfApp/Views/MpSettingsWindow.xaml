<Window x:Class="MpWpfApp.MpSettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:ii="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:MVVVMLightCommand="clr-namespace:GalaSoft.MvvmLight.Command;assembly=GalaSoft.MvvmLight.Platform"
        xmlns:s="clr-namespace:System;assembly=mscorlib"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        xmlns:scm="clr-namespace:System.ComponentModel;assembly=WindowsBase"
        xmlns:dd="clr-namespace:GongSolutions.Wpf.DragDrop;assembly=GongSolutions.Wpf.DragDrop"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2f008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MpWpfApp"
        mc:Ignorable="d"
        Title="Settings" Height="650" Width="800"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        Topmost="True"
        WindowStartupLocation="CenterScreen">
    <Window.DataContext>
        <local:MpSettingsWindowViewModel />
    </Window.DataContext>
    <Window.Resources>
        
    </Window.Resources>
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:CallMethodAction MethodName="SettingsWindow_Loaded"
                                TargetObject="{Binding}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="0.25*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="0.15*"/>
        </Grid.RowDefinitions>
        <!-- Header Panel -->
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <!-- Account Tab Button -->
            <ToggleButton Grid.Column="0"
                          IsChecked="{Binding SettingsPanel1Visibility, Converter={StaticResource VisibilityToBoolConverter}}"
                          Command="{Binding ClickSettingsPanelCommand}"
                          CommandParameter="{StaticResource SettingsTabAccount}">
                <StackPanel Orientation="Vertical">
                    <Image Stretch="Fill"
                           Height="50"
                           Width="50"
                           Margin="0,10,0,0"
                           Source="/MpWpfApp;component/Resources/Images/user.png" />
                    <Label HorizontalAlignment="Center"
                           FontSize="16"
                           Content="Account" />
                </StackPanel>
            </ToggleButton>
            <!-- Prefs Tab Button -->
            <ToggleButton Grid.Column="1"
                          IsChecked="{Binding SettingsPanel2Visibility, Converter={StaticResource VisibilityToBoolConverter}}"
                          Command="{Binding ClickSettingsPanelCommand}"
                          CommandParameter="{StaticResource SettingsTabPreferences}">
                <StackPanel Orientation="Vertical">
                    <Image Stretch="Fill"
                           Height="50"
                           Width="50"
                           Margin="0,10,0,0"
                           Source="/MpWpfApp;component/Resources/Images/sliders.png" />
                    <Label HorizontalAlignment="Center"
                           FontSize="16"
                           Content="Preferences" />
                </StackPanel>
            </ToggleButton>
            <!-- Security Tab Button -->
            <ToggleButton Grid.Column="2"
                          IsChecked="{Binding SettingsPanel3Visibility, Converter={StaticResource VisibilityToBoolConverter}}"
                          Command="{Binding ClickSettingsPanelCommand}"
                          CommandParameter="{StaticResource SettingsTabSecurity}">
                <StackPanel Orientation="Vertical">
                    <Image Stretch="Fill"
                           Height="50"
                           Width="50"
                           Margin="0,10,0,0"
                           Source="/MpWpfApp;component/Resources/Images/shield.png"  />
                    <Label HorizontalAlignment="Center"
                           FontSize="16"
                           Content="Security" />
                </StackPanel>
            </ToggleButton>
            <!-- Shortcuts tab button -->
            <ToggleButton Grid.Column="3"
                          IsChecked="{Binding SettingsPanel4Visibility, Converter={StaticResource VisibilityToBoolConverter}}"
                          Command="{Binding ClickSettingsPanelCommand}"
                          CommandParameter="{StaticResource SettingsTabShortcuts}">
                <StackPanel Orientation="Vertical">
                    <Image Stretch="Fill"
                           Height="50"
                           Width="50"
                           Margin="0,10,0,0"
                           Source="/MpWpfApp;component/Resources/Images/joystick.png"  />
                    <Label HorizontalAlignment="Center"
                           FontSize="16"
                           Content="Shortcuts" />
                </StackPanel>
            </ToggleButton>
            <!-- Help tab Button -->
            <ToggleButton Grid.Column="4"
                          IsChecked="{Binding SettingsPanel5Visibility, Converter={StaticResource VisibilityToBoolConverter}}"
                          Command="{Binding ClickSettingsPanelCommand}"
                          CommandParameter="{StaticResource SettingsTabHelp}">
                <StackPanel Orientation="Vertical">
                    <Image Stretch="Fill"
                           Height="50"
                           Width="50"
                           Margin="0,10,0,0"
                           Source="/MpWpfApp;component/Resources/Images/info.png" />
                    <Label HorizontalAlignment="Center"
                           FontSize="16"
                           Content="Help" />
                </StackPanel>
            </ToggleButton>
        </Grid>
        <!-- Account Panel -->
        <Grid Grid.Row="1"
              Visibility="{Binding SettingsPanel1Visibility}">
            <Label Content="Settings 1" />
        </Grid>
        <!-- Preferences -->
        <Grid Grid.Row="1"
              Visibility="{Binding SettingsPanel2Visibility}">            
            <StackPanel Orientation="Vertical"
                        DataContext="{Binding PreferencesViewModel}">
                <StackPanel Orientation="Horizontal">
                    <Label Content="Monitor" />
                    <ComboBox SelectedIndex="{local:MpSettingBinding MainWindowMonitorIdx}">
                        <ComboBoxItem Content="Primary" />
                        <ComboBoxItem Content="Focused" />
                        <ComboBoxItem Content="Mouse" />
                        <ComboBoxItem Content="Other..." />
                    </ComboBox>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Sound Notifications" />
                    <ComboBox DataContext="{Binding SoundPlayerGroupCollectionViewModel}"
                              ItemsSource="{Binding SoundGroupNames}"
                              SelectedIndex="{Binding SelectedSoundGroupNameIdx}">
                    </ComboBox>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Load On Login" />
                    <CheckBox IsChecked="{Binding IsLoadOnLoginChecked, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Spell Check" />
                    <CheckBox IsChecked="{Binding UseSpellCheck, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Ignore Empty or whitespace clipboard items" />
                    <CheckBox IsChecked="{Binding IgnoreWhiteSpaceCopyItems, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Reset Clipboard After Paste" />
                    <CheckBox IsChecked="{Binding ResetClipboard, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Language" />
                    <ComboBox ItemsSource="{Binding Languages}"
                              SelectedItem="{Binding SelectedLanguage, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Max Rtf Char Count" />
                    <TextBox Text="{Binding MaxRtfCharCount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Ignore Duplicates" />
                    <CheckBox IsChecked="{Binding IgnoreNewDuplicates, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                </StackPanel>
                <StackPanel Grid.Column="0"
                            Orientation="Horizontal">
                    <Label Content="Speaking Voice" />
                    <ComboBox ItemsSource="{Binding VoiceNames}"
                              SelectedItem="{Binding SelectedVoiceName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                </StackPanel>
                <Grid>
                    <StackPanel Orientation="Vertical"
                                DataContext="{Binding PasteToAppPathViewModelCollection}">
                        <Label Content="Paste to Applications" />
                        <DataGrid x:Name="PasteToAppPathDatagrid"
                                  ItemsSource="{Binding}"
                                  SelectedItem="{Binding SelectedPasteToAppPathViewModel, Mode=TwoWay}"
                                  SelectionMode="Single"
                                  Margin="10,0,10,5"
                                  Width="Auto"
                                  Height="Auto"
                                  CanUserAddRows="False"
                                  IsReadOnly="False"
                                  AutoGenerateColumns="False">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Loaded">
                                    <i:CallMethodAction MethodName="PasteToAppPathDataGrid_Loaded"
                                                        TargetObject="{Binding}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                            <DataGrid.Columns>
                                <DataGridTemplateColumn Width="50">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button x:Name="AppIconButton"
                                                    BorderThickness="0"
                                                    Cursor="Hand"
                                                    Background="Transparent"
                                                    Template="{StaticResource SearchButtonControlTemplate}"
                                                    Command="{Binding ChangeIconCommand}"
                                                    CommandParameter="{Binding RelativeSource={RelativeSource Self}}">
                                                <Image Width="20"
                                                       Height="20"
                                                       HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       Source="{Binding AppIcon}" />
                                            </Button>                                            
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Application"
                                                        Width="*">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Label Content="{Binding AppName}"
                                                   VerticalAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Label"
                                                        Width="200">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBox IsReadOnly="{Binding IsReadOnly}"
                                                     Background="Transparent"
                                                     BorderThickness="0"
                                                     Text="{Binding Label, Mode=TwoWay, UpdateSourceTrigger=LostFocus,NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}"
                                                     VerticalAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Arguments"
                                                        Width="*">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBox IsReadOnly="{Binding IsReadOnly}"
                                                     Background="Transparent"
                                                     BorderThickness="0"
                                                     Text="{Binding Args, Mode=TwoWay, UpdateSourceTrigger=LostFocus,NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}"
                                                     VerticalAlignment="Center" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                 <DataGridTemplateColumn Header="Admin?" 
                                                        Width="Auto">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <CheckBox HorizontalAlignment="Center"
                                                      VerticalAlignment="Center"
                                                        IsChecked="{Binding IsAdmin, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Silent?"
                                                        Width="Auto">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <CheckBox HorizontalAlignment="Center"
                                                      VerticalAlignment="Center"
                                                      IsChecked="{Binding IsSilent, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Execute?"
                                                        Width="Auto">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <CheckBox HorizontalAlignment="Center"
                                                      VerticalAlignment="Center"
                                                      IsChecked="{Binding PressEnter, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Header="Window"
                                                        Width="100">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <ComboBox SelectedIndex="{Binding SelectedWindowState, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}">
                                                <ComboBox.Items>                                        
                                                    <ComboBoxItem Content="Hide" />
                                                    <ComboBoxItem Content="Normal" />
                                                    <ComboBoxItem Content="Minimized" />
                                                    <ComboBoxItem Content="Maximized" />
                                                </ComboBox.Items>
                                            </ComboBox>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                                <DataGridTemplateColumn Width="50">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Background="White"
                                                    BorderThickness="0"
                                                    ToolTip="Delete"
                                                    Command="{Binding RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}, Path=DataContext.DeletePasteToAppPathCommand}">
                                                <Image Width="20"
                                                       Height="20"
                                                       Source="/MpWpfApp;component/Resources/Images/delete.png" />
                                            </Button>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                        <Button Width="200"
                                Command="{Binding AddPasteToAppPathCommand}">
                            <DockPanel>
                                <Image Source="/MpWpfApp;component/Resources/Images/add.png"
                                       DockPanel.Dock="Left"
                                       Width="20"
                                       Height="20" />
                                <Label DockPanel.Dock="Right"
                                       Content="Add App" />
                            </DockPanel>
                        </Button>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </Grid>
        <!-- Security -->
        <Grid Grid.Row="1"
              Visibility="{Binding SettingsPanel3Visibility}">
            <StackPanel Orientation="Vertical"
                        DataContext="{Binding SecurityViewModel}">
                <DataGrid Grid.Row="1"
                          x:Name="ExcludedAppDatagrid"
                          ItemsSource="{Binding AppViewModels}"
                          HorizontalAlignment="Center"
                          VerticalAlignment="Top"
                          Width="Auto"
                          Height="Auto"
                          SelectedIndex="{Binding SelectedExcludedAppIndex, Mode=TwoWay}"
                          SelectionMode="Single"
                          GridLinesVisibility="None"
                          CanUserAddRows="False"
                          Margin="15,15,15,5"
                          AutoGenerateColumns="False">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="Loaded">
                            <i:CallMethodAction MethodName="AppCollectionDataGrid_Loaded"
                                                TargetObject="{Binding}" />
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <DataGrid.RowStyle>
                        <Style TargetType="{x:Type DataGridRow}">
                            <Setter Property="IsSelected"
                                    Value="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        </Style>
                    </DataGrid.RowStyle>
                    <DataGrid.Columns>
                        <DataGridTemplateColumn Width="30">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Image Source="{Binding IconImage, Converter={StaticResource ImageSourceToBitmapSourceConverter}}" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Header="Known Applications"
                                                Width="300">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <TextBlock VerticalAlignment="Center"
                                               Margin="10,0,0,0"
                                               Text="{Binding AppName}" />
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                        <DataGridTemplateColumn Width="70"
                                                Header="Excluded?">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <CheckBox Background="White"
                                              BorderThickness="1"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="Center"
                                              VerticalContentAlignment="Stretch"
                                              IsChecked="{Binding IsAppRejected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                    </CheckBox>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
                <Button Width="200" 
                        Command="{Binding AddExcludedAppCommand}">
                    <DockPanel>
                        <Image Source="/MpWpfApp;component/Resources/Images/add.png"
                               DockPanel.Dock="Left"
                               Width="20"
                               Height="20" />
                        <Label DockPanel.Dock="Right"
                               Content="Add Application" />
                    </DockPanel>
                </Button>
            </StackPanel>
        </Grid>
        <!-- Shortcuts -->
        <Grid Grid.Row="1"
              Visibility="{Binding SettingsPanel4Visibility}">
            <Grid.RowDefinitions>
                <RowDefinition Height="0.1*"/>
                <RowDefinition Height="0.1*" />
                <RowDefinition Height="0.3*" />
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <StackPanel Grid.Row="0"
                        Visibility="Collapsed"
                        Orientation="Horizontal"
                        HorizontalAlignment="Center">
                <Image Width="30"
                       Source="/MpWpfApp;component/Resources/Images/info.png" />
                <Label HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       Content="Sequence changes will take affect upon application restart" />
            </StackPanel>
            <StackPanel Grid.Row="1"
                        Orientation="Horizontal">
                <Label Content="Show Window With Mouse" />
                <ComboBox SelectedIndex="{local:MpSettingBinding DoShowMainWIndowWithMouseEdgeIndex}">
                    <ComboBoxItem Content="Left" />
                    <ComboBoxItem Content="Top" />
                    <ComboBoxItem Content="Right" />
                    <ComboBoxItem Content="Bottom" />
                    <ComboBoxItem Content="None" />
                </ComboBox>
            </StackPanel>
            <StackPanel Grid.Row="2"
                        Orientation="Horizontal">
                <Label Content="Only with Scrollwheel" />
                <CheckBox IsChecked="{local:MpSettingBinding DoShowMainWindowWithMouseEdgeAndScrollDelta}" />
            </StackPanel>
            <DataGrid Grid.Row="3" 
                      x:Name="ShortcutDatagrid"
                      DataContext="{Binding}"
                      ItemsSource="{Binding ShortcutCollectionViewModel}"
                      HorizontalAlignment="Center"
                      SelectedIndex="{Binding SelectedShortcutIndex, Mode=TwoWay}"
                      SelectionMode="Single"
                      GridLinesVisibility="None"
                      IsReadOnly="True"
                      Margin="15"
                      AutoGenerateColumns="False">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Type"
                                        Width="85"
                                        Binding="{Binding ShortcutTypeName}" />
                    <DataGridTextColumn Header="Action"
                                        Width="200"
                                        Binding="{Binding ShortcutDisplayName}" />
                    <DataGridTextColumn Header="Shortcut"
                                        Width="150"
                                        Binding="{Binding KeyString, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" />
                    <DataGridTemplateColumn Width="50">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Background="White"
                                        BorderThickness="0"
                                        ToolTip="Reassign"
                                        Command="{Binding RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}, Path=DataContext.ReassignShortcutCommand}">
                                <Image Width="20"
                                       Height="20"
                                       Source="/MpWpfApp;component/Resources/Icons/Silk/icons/anchor.png" />
                                </Button>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Width="50">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel>
                                    <Button Background="White"
                                            BorderThickness="0"
                                            ToolTip="Delete"
                                            Template="{StaticResource ButtonControlTemplate}"
                                            Visibility="{Binding DeleteButtonVisibility}"
                                            Command="{Binding RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}, Path=DataContext.DeleteShortcutCommand}">
                                        <Image Width="20"
                                               Height="20"
                                               Source="/MpWpfApp;component/Resources/Images/delete.png" />
                                    </Button>
                                    <Button Background="White"
                                            Template="{StaticResource ButtonControlTemplate}"
                                            BorderThickness="0"
                                            ToolTip="Reset"
                                            Visibility="{Binding ResetButtonVisibility}"
                                            Command="{Binding RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}, Path=DataContext.ResetShortcutCommand}">
                                        <Image Width="20"
                                               Height="20"
                                               Source="/MpWpfApp;component/Resources/Icons/Silk/icons/arrow_refresh.png">
                                        </Image>
                                    </Button>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </Grid>
        <!-- Help -->
        <Grid Grid.Row="1"
              Visibility="{Binding SettingsPanel5Visibility}">
            <Label Content="Settings 5" />
        </Grid>
        <!-- Footer -->
        <DockPanel Grid.Row="2" 
                   HorizontalAlignment="Stretch">
            <Button DockPanel.Dock="Left"
                    Width="100"
                    Margin="10,20,10,10"
                    Command="{Binding ResetSettingsCommand}"
                    Content="Reset All" />
            <StackPanel DockPanel.Dock="Right" 
                        HorizontalAlignment="Right"
                        Orientation="Horizontal">
                <Button Width="100"
                        Margin="10,20,10,10"
                        Command="{Binding SaveSettingsCommand}"
                        Content="Save" />
                <Button Width="100"
                        Margin="10,20,10,10"
                        Command="{Binding CancelSettingsCommand}"
                        Content="Cancel" />
            </StackPanel>
        </DockPanel>
    </Grid>
</Window>
