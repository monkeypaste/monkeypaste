<local:MpUserControl x:Class="MpWpfApp.MpAnalyticItemCollectionView"
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                     xmlns:local="clr-namespace:MpWpfApp"
                     x:TypeArguments="local:MpAnalyticItemCollectionViewModel"
                     xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                     mc:Ignorable="d"
                     d:DesignHeight="450"
                     d:DesignWidth="800"
                     d:DataContext="{d:DesignInstance local:MpAnalyticItemCollectionViewModel, IsDesignTimeCreatable=False}">
    <!--<UserControl.Resources>
        <DataTemplate x:Key="TextAnalysis">
            <local:MpTextAnalysisDocument DataContext="{Binding}" />
        </DataTemplate>
        <DataTemplate x:Key="ImageAnalysis">
            <local:MpImageAnalysisDocument DataContext="{Binding}" />
        </DataTemplate>
        <local:MpAnalysisDocumentSelector x:Key="AnalysisDocumentSelector"
                                          ImageAnalysisTemplate="{StaticResource ImageAnalysis}"
                                          TextAnalysisTemplate="{StaticResource TextAnalysis}" />
    </UserControl.Resources>
    <Grid MouseDown="Grid_MouseDown">
        <ContentControl Width="{Binding Parent.TileBorderWidth}"
                        Height="{Binding Parent.TileBorderHeight}"
                        Content="{Binding}"
                        ContentTemplateSelector="{StaticResource AnalysisDocumentSelector}" />
                  Width="{Binding HostClipTileViewModel.TileBorderWidth}"
                  Height="{Binding HostClipTileViewModel.TileBorderHeight}"
    </Grid>-->
    <Viewbox>
        <local:MpClipBorder Margin="{local:MpMeasurementsBinding ClipTileMargin}"
                            BorderThickness="{Binding Parent.Parent.TileBorderThickness}"
                            BorderBrush="{Binding Parent.Parent.TileBorderBrush}"
                            Width="{local:MpMeasurementsBinding ClipTileInnerBorderSize}"
                            MaxWidth="{local:MpMeasurementsBinding ClipTileInnerBorderSize}"
                            Height="{Binding Parent.Parent.TileBorderHeight}"
                            MaxHeight="{Binding Parent.Parent.TileBorderHeight}"
                            Background="{local:MpSettingBinding Path=ThemeClipTileBackgroundColor, Converter={StaticResource StringToBrushConverter}, Mode=OneWay}"
                            CornerRadius="10">

            <TreeView Name="AnalyticTreeView"
                          ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                          ItemsSource="{Binding Items, IsAsync=True}">
                <TreeView.Resources>
                    <HierarchicalDataTemplate DataType="{x:Type local:MpAnalyticItemViewModel}"
                                                  ItemsSource="{Binding ParameterViewModels}">
                        <local:MpAnalyticItemView />
                    </HierarchicalDataTemplate>
                    <HierarchicalDataTemplate DataType="{x:Type local:MpAnalyticItemParameterViewModel}">
                        <local:MpAnalyticItemParameterView />
                    </HierarchicalDataTemplate>
                    <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightBrushKey}"
                                         Color="Blue" />
                </TreeView.Resources>
                <TreeView.ItemContainerStyle>
                    <Style TargetType="TreeViewItem">
                        <Setter Property="IsSelected"
                                    Value="{Binding IsSelected, Mode=TwoWay}" />
                        <Setter Property="IsExpanded"
                                    Value="{Binding IsExpanded, Mode=TwoWay}" />
                        <Setter Property="HorizontalContentAlignment"
                                    Value="Left" />
                        <Setter Property="VerticalContentAlignment"
                                    Value="Top" />
                    </Style>
                </TreeView.ItemContainerStyle>
            </TreeView>
        </local:MpClipBorder>
    </Viewbox>
</local:MpUserControl>
