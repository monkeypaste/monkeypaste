<local:MpUserControl x:Class="MpWpfApp.MpDetectedObjectsCollectionView"
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                     xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
                     xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                     xmlns:local="clr-namespace:MpWpfApp"
                     x:TypeArguments="local:MpDetectedImageObjectCollectionViewModel"
                     mc:Ignorable="d"
                     d:DataContext="{d:DesignInstance Type=local:MpDetectedImageObjectCollectionViewModel,
                                                      IsDesignTimeCreatable=False}"
                     d:DesignHeight="450"
                     d:DesignWidth="800">
    <ListBox x:Name="ClipTileImageDetectedObjectItemscontrol"
             Background="Transparent"
             BorderThickness="0"
             ItemsSource="{Binding Items}">
        <ListBox.Resources>
            <local:MpBindingProxy x:Key="DetectedImageObjectCollectionViewModelProxy"
                                  Data="{Binding}" />
        </ListBox.Resources>
        <ListBox.ItemsPanel>
            <ItemsPanelTemplate>
                <Canvas x:Name="ClipTileImageDetectedObjectsCanvas"
                        IsItemsHost="True" />
            </ItemsPanelTemplate>
        </ListBox.ItemsPanel>
        <ListBox.ItemContainerStyle>
            <Style TargetType="{x:Type ListBoxItem}">
                <Setter Property="Canvas.Left"
                        Value="{Binding X}" />
                <Setter Property="Canvas.Top"
                        Value="{Binding Y}" />
                <Setter Property="IsSelected"
                        Value="{Binding IsSelected,
                                        Mode=TwoWay,
                                        NotifyOnSourceUpdated=True,
                                        NotifyOnTargetUpdated=True,
                                        UpdateSourceTrigger=PropertyChanged}" />
            </Style>
        </ListBox.ItemContainerStyle>
        <ListBox.ItemTemplate>
            <DataTemplate>
                <local:MpDetectedObjectItemView DataContext="{Binding}" />
            </DataTemplate>
        </ListBox.ItemTemplate>
    </ListBox>
</local:MpUserControl>
