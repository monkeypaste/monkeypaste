<local:MpUserControl
    x:Class="MpWpfApp.MpRtbContentView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:local="clr-namespace:MpWpfApp"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:pcl="clr-namespace:MonkeyPaste;assembly=MonkeyPaste"
    d:DataContext="{d:DesignInstance Type=local:MpClipTileViewModel,
                                     IsDesignTimeCreatable=False}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:TypeArguments="local:MpClipTileViewModel"
    mc:Ignorable="d">
    <i:Interaction.Behaviors>
        <local:MpContentViewDropBehavior x:Name="ContentViewDropBehavior" />
        <local:MpRtbHighlightBehavior x:Name="RtbHighlightBehavior" />
    </i:Interaction.Behaviors>
    <AdornerDecorator ClipToBounds="True">
        <local:MpRichTextBox
            x:Name="Rtb"
            Width="Auto"
            Height="Auto"
            MinWidth="100"
            Padding="5,0,5,0"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            HorizontalContentAlignment="Stretch"
            VerticalContentAlignment="Stretch"
            local:MpContentDocumentRtfExtension.CopyItem="{Binding CopyItem}"
            local:MpContentDocumentRtfExtension.IsContentReadOnly="{Binding IsContentReadOnly}"
            local:MpContentDocumentRtfExtension.IsSelected="{Binding IsSelected, Mode=TwoWay}"
            local:MpContentDocumentRtfExtension.TextSelectionRange="{Binding}"
            local:MpIsFocusedExtension.IsEnabled="True"
            local:MpIsFocusedExtension.IsFocused="{Binding IsContentFocused, Mode=TwoWay}"
            AllowDrop="True"
            AutoWordSelection="False"
            Background="White"
            BorderThickness="0"
            CaretBrush="{Binding CaretBrushHexColor, Converter={StaticResource StringHexToBrushConverter}}"
            DataContext="{Binding}"
            DataContextChanged="Rtb_DataContextChanged"
            FontFamily="Consolas"
            Foreground="Black"
            GotFocus="Rtb_GotFocus"
            IsDocumentEnabled="True"
            IsEnabled="True"
            IsInactiveSelectionHighlightEnabled="True"
            IsManipulationEnabled="{Binding IsContentReadOnly, Converter={StaticResource BoolFlipConverter}}"
            IsReadOnly="{Binding IsContentReadOnly}"
            IsReadOnlyCaretVisible="{Binding IsSubSelectionEnabled}"
            IsUndoEnabled="True"
            Loaded="Rtb_Loaded"
            LostFocus="Rtb_LostFocus"
            MouseEnter="Rtb_MouseEnter"
            MouseLeave="Rtb_MouseLeave"
            MouseMove="Rtb_MouseMove"
            PreviewKeyDown="Rtb_PreviewKeyDown"
            PreviewKeyUp="Rtb_PreviewKeyUp"
            PreviewMouseLeftButtonDown="Rtb_PreviewMouseLeftButtonDown"
            PreviewMouseRightButtonDown="Rtb_PreviewMouseRightButtonDown"
            PreviewMouseLeftButtonUp="Rtb_PreviewMouseLeftButtonUp"
            PreviewMouseWheel="Rtb_PreviewMouseWheel"
            ScrollViewer.HorizontalScrollBarVisibility="{Binding IsHorizontalScrollbarVisibile, Converter={StaticResource BoolToScrollBarVisibilityConverter}, ConverterParameter={StaticResource AutoInsteadOfVisible}}"
            ScrollViewer.ScrollChanged="Rtb_ScrollChanged"
            ScrollViewer.VerticalScrollBarVisibility="{Binding IsVerticalScrollbarVisibile, Converter={StaticResource BoolToScrollBarVisibilityConverter}}"
            SelectionBrush="{Binding SelectedTextHexColor, Converter={StaticResource StringHexToBrushConverter}}"
            SelectionChanged="Rtb_SelectionChanged"
            SizeChanged="Rtb_SizeChanged"
            TextChanged="Rtb_TextChanged"
            ToolTipService.InitialShowDelay="300"
            Unloaded="Rtb_Unloaded">
            <local:MpRichTextBox.Resources>
                <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightBrushKey}" Color="{Binding InactiveSelectedTextHexColor, Converter={StaticResource StringHexToWinMediaColorConverter}}" />
            </local:MpRichTextBox.Resources>
        </local:MpRichTextBox>
    </AdornerDecorator>
</local:MpUserControl>
