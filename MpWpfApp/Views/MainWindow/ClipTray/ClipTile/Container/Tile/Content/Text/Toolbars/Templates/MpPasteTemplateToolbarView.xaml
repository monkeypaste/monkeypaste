<local:MpUserControl x:Class="MpWpfApp.MpPasteTemplateToolbarView"
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                     xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
                     xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                     mc:Ignorable="d"
                     xmlns:local="clr-namespace:MpWpfApp"
                     xmlns:wpfspark="clr-namespace:WPFSpark;assembly=WPFSpark"
                     x:TypeArguments="local:MpTemplateCollectionViewModel"
                     d:DesignHeight="450"
                     d:DesignWidth="800"
                     d:DataContext="{d:DesignInstance Type=local:MpTemplateCollectionViewModel,
                                                      IsDesignTimeCreatable=False}">
    <Border x:Name="ClipTilePasteTemplateToolbar"
            IsVisibleChanged="ClipTilePasteTemplateToolbar_IsVisibleChanged"
            Unloaded="ClipTilePasteTemplateToolbar_Unloaded"
            Height="40"
            HorizontalAlignment="Stretch"
            Background="LightBlue"
            BorderThickness="0"
            CornerRadius="5">
        <Grid x:Name="PasteTemplateToolbarGrid">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="3*" />
                <ColumnDefinition Width="0.7*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <local:MpClipBorder x:Name="SelectedTemplateComboBoxBorder"
                                Grid.Column="0"
                                Margin="0,3,0,3"
                                HorizontalAlignment="Center"
                                Background="{Binding SelectedTemplate.TemplateBrush}"
                                CornerRadius="15">
                <ComboBox x:Name="SelectedTemplateComboBox"
                          MinWidth="100"
                          HorizontalContentAlignment="Left"
                          VerticalContentAlignment="Center"
                          Background="Transparent"
                          FontSize="14"
                          IsEnabled="{Binding IsAnyPastingTemplate,
                                              Source={x:Static local:MpClipTrayViewModel.Instance}}"
                          PreviewMouseLeftButtonDown="SelectedTemplateComboBox_PreviewMouseLeftButtonDown"
                          ItemsSource="{Binding Templates}"
                          SelectedIndex="{Binding SelectedTemplateIdx,
                                                  Mode=TwoWay,
                                                  NotifyOnTargetUpdated=True,
                                                  NotifyOnSourceUpdated=True,
                                                  UpdateSourceTrigger=PropertyChanged}">
                    <ComboBox.ItemTemplate>
                        <ItemContainerTemplate>
                            <DockPanel>
                                <Border Width="15"
                                        Height="15"
                                        Margin="0,0,5,0"
                                        Background="{Binding TemplateBrush}"
                                        BorderBrush="Black"
                                        BorderThickness="1"
                                        CornerRadius="10"
                                        DockPanel.Dock="Left" />
                                <TextBlock DockPanel.Dock="Right"
                                           Text="{Binding TemplateName}" />
                            </DockPanel>
                        </ItemContainerTemplate>
                    </ComboBox.ItemTemplate>
                    <ComboBox.ItemContainerStyle>
                        <Style TargetType="{x:Type ComboBoxItem}">
                            <Setter Property="IsSelected"
                                    Value="{Binding IsSelected,
                                                    Mode=TwoWay,
                                                    NotifyOnTargetUpdated=True,
                                                    NotifyOnSourceUpdated=True,
                                                    UpdateSourceTrigger=PropertyChanged}" />
                        </Style>
                    </ComboBox.ItemContainerStyle>
                </ComboBox>
            </local:MpClipBorder>
            <Button x:Name="ClearAllTemplatesButton"
                    Grid.Column="1"
                    Margin="3,0,3,0"
                    Padding="0,0,0,0"
                    VerticalAlignment="Center"
                    VerticalContentAlignment="Top"
                    PreviewMouseLeftButtonDown="ClearAllTemplatesButton_PreviewMouseLeftButtonDown"
                    Command="{Binding ClearAllTemplatesCommand}"
                    Content="CLEAR ALL"
                    FontSize="12"
                    TabIndex="0"
                    Visibility="{Binding IsAnyTemplateHasText,
                                         Converter={StaticResource BoolToVisibilityConverter}}" />
            <local:MpClipBorder Grid.Column="2"
                                Margin="1"
                                Padding="0"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                Background="White"
                                BorderBrush="DimGray"
                                BorderThickness="0.5"
                                CornerRadius="10">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="0.1*" />
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="SelectedTemplateTextBox"
                             Grid.Column="0"
                             Width="240"
                             Height="24"
                             Margin="5,0,0,0"
                             Padding="0,0,0,0"
                             HorizontalAlignment="Left"
                             VerticalAlignment="Top"
                             VerticalContentAlignment="Top"
                             BorderThickness="0"
                             FontSize="16"
                             Foreground="Black"
                             TabIndex="1"
                             PreviewKeyDown="SelectedTemplateTextBox_PreviewKeyDown"
                             Text="{Binding SelectedTemplate.TemplateText,
                                            Mode=TwoWay,
                                            NotifyOnTargetUpdated=True,
                                            NotifyOnSourceUpdated=True,
                                            UpdateSourceTrigger=PropertyChanged}" />
                    <Button x:Name="ClearCurrentTemplateButton"
                            Grid.Column="1"
                            Width="15"
                            Height="15"
                            Background="Transparent"
                            BorderThickness="0"
                            Command="{Binding SelectedTemplate.ClearTemplateCommand}"
                            Visibility="{Binding SelectedTemplate.HasText,
                                                 Converter={StaticResource BoolToVisibilityConverter}}">
                        <Image x:Name="ClearCurrentTemplateButtonImage"
                               Source="/Resources/Images/close1.png" />
                    </Button>
                </Grid>
            </local:MpClipBorder>
            <StackPanel Grid.Column="3"
                        Margin="8,0,0,0"
                        HorizontalAlignment="Center"
                        Orientation="Horizontal"
                        Visibility="{Binding HasMultipleTemplates,
                                             Converter={StaticResource BoolToVisibilityConverter}}">
                <Button x:Name="PreviousTemplateButton"
                        Width="35"
                        Height="25"
                        Margin="0"
                        Padding="5"
                        PreviewMouseLeftButtonDown="PreviousTemplateButton_PreviewMouseLeftButtonDown"
                        Command="{Binding SelectPreviousTemplateCommand}"
                        TabIndex="2">
                    <Image Source="/Resources/Images/back_black.png" />
                </Button>
                <Button x:Name="NextTemplateButton"
                        Width="35"
                        Height="25"
                        Margin="5,0,0,0"
                        Padding="5"
                        PreviewMouseLeftButtonDown="NextTemplateButton_PreviewMouseLeftButtonDown"
                        Command="{Binding SelectNextTemplateCommand}"
                        TabIndex="3">
                    <Image Source="/Resources/Images/forward_black.png" />
                </Button>
            </StackPanel>
            <Button x:Name="PasteTemplateButton"
                    Grid.Column="4"
                    Margin="15,0,15,0"
                    Padding="10,5,10,5"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    VerticalContentAlignment="Top"
                    Command="{Binding PasteTemplateCommand}"
                    Content="{Binding PasteButtonText}"
                    FontSize="12"
                    TabIndex="4"
                    Visibility="{Binding IsAllTemplatesFilled,
                                         Converter={StaticResource BoolToVisibilityConverter}}" />
        </Grid>
    </Border>
</local:MpUserControl>
