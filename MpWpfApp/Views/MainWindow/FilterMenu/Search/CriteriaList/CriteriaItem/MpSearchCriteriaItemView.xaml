<local:MpUserControl x:Class="MpWpfApp.MpSearchCriteriaItemView"
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:wf="clr-namespace:System.Windows.Forms;assembly=System.Windows.Forms"
                     xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                     xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                     xmlns:local="clr-namespace:MpWpfApp"
                     x:TypeArguments="local:MpSearchCriteriaItemViewModel"
                     mc:Ignorable="d"
                     d:DesignHeight="450"
                     d:DesignWidth="800"
                     d:DataContext="{d:DesignInstance Type=local:MpSearchCriteriaItemViewModel,
                                                      IsDesignTimeCreatable=False}">
    <Border x:Name="CriteriaItemBorder"
            Background="LightGray"
            BorderThickness="{local:MpMeasurementsBinding SearchDetailBorderThickness}"
            Height="{local:MpMeasurementsBinding SearchDetailRowHeight}"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            MouseEnter="CriteriaItemBorder_MouseEnter"
            MouseLeave="CriteriaItemBorder_MouseLeave"
            BorderBrush="{Binding CriteriaItemBorderBrush}">
        <DockPanel>
            <StackPanel Orientation="Horizontal"
                        DockPanel.Dock="Left">
                <local:MpClipBorder BorderBrush="DimGray"
                                    BorderThickness="1.5"
                                    Background="Transparent"
                                    CornerRadius="5"
                                    Margin="10,3"
                                    Padding="1">
                    <ComboBox Padding="3"
                              ItemsSource="{Binding PrimaryLabels}"
                              SelectedIndex="{Binding SelectedCriteriaTypeIdx,
                                                      Mode=TwoWay}"
                              MinWidth="80" />
                </local:MpClipBorder>
                <local:MpClipBorder BorderBrush="DimGray"
                                    BorderThickness="1.5"
                                    Background="Transparent"
                                    Visibility="{Binding HasSecondaryLabels,
                                                         Converter={StaticResource BoolToVisibilityConverter}}"
                                    CornerRadius="5"
                                    Margin="10,3"
                                    Padding="3">
                    <ComboBox Padding="3"
                              ItemsSource="{Binding SecondaryLabels}"
                              SelectedIndex="{Binding SelectedSecondaryIdx,
                                                      Mode=TwoWay}"
                              MinWidth="80" />
                </local:MpClipBorder>
                <local:MpClipBorder BorderBrush="DimGray"
                                    BorderThickness="1.5"
                                    Background="Transparent"
                                    Visibility="{Binding HasTertiaryLabels,
                                                         Converter={StaticResource BoolToVisibilityConverter}}"
                                    CornerRadius="5"
                                    Margin="10,3"
                                    Padding="3">
                    <ComboBox Padding="3"
                              ItemsSource="{Binding TertiaryLabels}"
                              SelectedIndex="{Binding SelectedTertiaryIdx,
                                                      Mode=TwoWay}"
                              MinWidth="80" />
                </local:MpClipBorder>
            </StackPanel>
            <StackPanel Orientation="Horizontal"
                        DockPanel.Dock="Right"
                        Margin="0,0,5,0">
                <Button x:Name="RemoveCriteriaItemButton"
                        Background="Transparent"
                        Height="30"
                        Width="30"
                        BorderThickness="0"
                        MouseEnter="RemoveCriteriaItemButton_MouseEnter"
                        MouseLeave="RemoveCriteriaItemButton_MouseLeave"
                        Style="{StaticResource SemiTransparentButton}"
                        Command="{Binding Parent.RemoveSearchCriteriaItemCommand}"
                        CommandParameter="{Binding}">
                    <Border CornerRadius="5"
                            Background="LightGray"
                            BorderBrush="{Binding RemoveCriteriaItemButtonBorderBrush}"
                            BorderThickness="2">
                        <Image Stretch="Fill"
                               Source="{Binding .,
                                                Source={StaticResource MinusIcon},
                                                Converter={StaticResource StringToImageSourceConverter}}" />
                    </Border>
                </Button>
                <Button x:Name="AddCriteriaItemButton"
                        Background="Transparent"
                        Height="30"
                        Width="30"
                        BorderThickness="0"
                        MouseEnter="AddCriteriaItemButton_MouseEnter"
                        MouseLeave="AddCriteriaItemButton_MouseLeave"
                        Style="{StaticResource SemiTransparentButton}"
                        Command="{Binding Parent.AddSearchCriteriaItemCommand}">
                    <Border CornerRadius="5"
                            Background="LightGray"
                            BorderBrush="{Binding AddCriteriaItemButtonBorderBrush}"
                            BorderThickness="2">
                        <Image Stretch="Fill"
                               Source="{Binding .,
                                                Source={StaticResource PlusIcon},
                                                Converter={StaticResource StringToImageSourceConverter}}" />
                    </Border>
                </Button>
            </StackPanel>
            <local:MpClipBorder x:Name="SearchCriteriaTextInputBorder"
                                CornerRadius="10"
                                BorderThickness="1"
                                Width="500"
                                Visibility="{Binding CanInputText,
                                                     Converter={StaticResource BoolToVisibilityConverter}}"
                                MouseEnter="SearchCriteriaTextBox_MouseEnter"
                                MouseLeave="SearchCriteriaTextBox_MouseLeave"
                                Margin="3,5,10,5">
                <TextBox x:Name="SearchCriteriaTextBox"
                         BorderThickness="0"
                         HorizontalAlignment="Stretch"
                         VerticalContentAlignment="Center"
                         Text="{Binding InputValue,
                                        Mode=TwoWay,
                                        NotifyOnSourceUpdated=True,
                                        NotifyOnTargetUpdated=True,
                                        UpdateSourceTrigger=PropertyChanged}"
                         Padding="5,0,0,0" />
            </local:MpClipBorder>
            <local:MpClipBorder x:Name="SearchCriteriaDateTimeInputBorder"
                                HorizontalAlignment="Left"
                                CornerRadius="10"
                                Background="Orange"
                                BorderThickness="1"
                                Width="300"
                                
                                Visibility="{Binding CanInputDate,
                                                     Converter={StaticResource BoolToVisibilityConverter}}"
                                Margin="3,5,10,5">
                <DatePicker Width="300" Loaded="DatePicker_Loaded"
                            Height="30"
                            IsEnabled="{Binding CanInputDate}"
                            SelectedDate="{Binding InputValue,
                                                   Converter={StaticResource StringToDateTimeConverter}}"
                            SelectedDateFormat="Long" />
            </local:MpClipBorder>
        </DockPanel>
    </Border>
</local:MpUserControl>
