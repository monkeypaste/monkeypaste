<local:MpUserControl x:Class="MpWpfApp.MpPasswordBoxParameterView"
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                     xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                     xmlns:local="clr-namespace:MpWpfApp"
                     xmlns:pcl="clr-namespace:MonkeyPaste;assembly=MonkeyPaste"
                     x:TypeArguments="local:MpTextBoxParameterViewModel"
                     mc:Ignorable="d"
                     d:DesignHeight="450"
                     d:DesignWidth="800"
                     d:DataContext="{d:DesignInstance Type=local:MpTextBoxParameterViewModel,
                                                      IsDesignTimeCreatable=False}">
    <Border BorderThickness="0"
            Background="White"
            CornerRadius="3"
            Padding="5"
            Margin="3">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.7*" />
                <ColumnDefinition Width="30" />
            </Grid.ColumnDefinitions>
            <TextBox Grid.Column="0"
                     Padding="3"
                     BorderThickness="0"
                     MinWidth="100"
                     local:MpIsFocusedExtension.IsEnabled="True"
                     local:MpTextSelectionRangeExtension.IsEnabled="True"
                     local:MpTextSelectionRangeExtension.TextSelectionRange="{Binding}"
                     FontFamily="pack://application:,,,/Resources/Fonts/#password"
                     Text="{Binding CurrentValue,
                                    Mode=TwoWay,
                                    UpdateSourceTrigger=PropertyChanged,
                                    NotifyOnSourceUpdated=True,
                                    NotifyOnTargetUpdated=True}">
                <TextBox.InputBindings>
                    <!--  Disable CTRL+C (COPY)  -->
                    <KeyBinding Command="ApplicationCommands.NotACommand"
                                Key="C"
                                Modifiers="Control" />
                    <!--  Disable CTRL+X (CUT)  -->
                    <KeyBinding Command="ApplicationCommands.NotACommand"
                                Key="X"
                                Modifiers="Control" />
                </TextBox.InputBindings>
                <TextBox.ContextMenu>
                    <!--  Hide context menu where you could copy/cut as well  -->
                    <ContextMenu Visibility="Collapsed" />
                </TextBox.ContextMenu>
            </TextBox>

            <Button Grid.Column="1"
                    BorderThickness="0"
                    Background="Beige"
                    Margin="5"
                    Style="{StaticResource RoundedButton}"
                    Visibility="{Binding IsContentQuery,
                                         Converter={StaticResource BoolToVisibilityConverter}}"
                    Command="{Binding ShowContentPathSelectorMenuCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource Self}}">
                <Image Source="{Binding .,
                                        Converter={StaticResource StringResourceToImageSourceConverter},
                                        Source={StaticResource FilterIcon}}"
                       Stretch="Uniform"
                       Width="10"
                       Height="10" />
            </Button>

        </Grid>
    </Border>
</local:MpUserControl>
