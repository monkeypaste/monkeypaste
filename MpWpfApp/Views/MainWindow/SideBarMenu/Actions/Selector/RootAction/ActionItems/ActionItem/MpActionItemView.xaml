<local:MpUserControl x:Class="MpWpfApp.MpActionItemView"
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                     xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                     xmlns:dd="clr-namespace:GongSolutions.Wpf.DragDrop;assembly=GongSolutions.Wpf.DragDrop"
                     xmlns:local="clr-namespace:MpWpfApp"
                     x:TypeArguments="local:MpActionViewModelBase"
                     mc:Ignorable="d"
                     d:DataContext="{d:DesignInstance Type=local:MpActionViewModelBase,
                                                      IsDesignTimeCreatable=False}"
                     d:DesignHeight="450"
                     d:DesignWidth="800">
    <local:MpUserControl.Resources>
        <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}"
                         Color="Transparent" />
        <DataTemplate x:Key="AnalyzeTemplate">
            <TextBox Text="Analyze" />
        </DataTemplate>
        <DataTemplate x:Key="ClassifyTemplate">
            <TextBox Text="Classify" />
        </DataTemplate>
        <DataTemplate x:Key="TransformTemplate">
            <TextBox Text="Transform" />
        </DataTemplate>
        <DataTemplate x:Key="CompareTemplate">
            <TextBox Text="Compare" />
        </DataTemplate>
        <DataTemplate x:Key="TriggerTemplate">
            <TextBox Text="Trigger" />
        </DataTemplate>
        <DataTemplate x:Key="NoneTemplate" />
        <local:MpActionItemTemplateSelector x:Key="ActionItemTemplateSelector" />
    </local:MpUserControl.Resources>
    <StackPanel Orientation="Horizontal">
        <ContentControl MinWidth="100" Content="{Binding}" ContentTemplateSelector="{StaticResource ActionItemTemplateSelector}" />
        <DockPanel LastChildFill="False">
            <Button x:Name="AddChildActionButton"
                    DockPanel.Dock="Left"
                    ToolTip="Add"
                    Background="Transparent"
                    Height="25"
                    Width="25"
                    Margin="5,0,0,0"
                    BorderThickness="2"
                    local:MpHoverableExtension.IsEnabled="True"
                    local:MpHoverableExtension.InactiveBorderBrush="DimGray"
                    local:MpHoverableExtension.HoverBorderBrush="Yellow"
                    Style="{StaticResource SemiTransparentButton}"
                    Command="{Binding AddChildActionCommand}">
                <Border CornerRadius="2"
                        Background="LightGray">
                    <Image Stretch="Fill"
                           Source="{Binding .,
                                            Source={StaticResource PlusIcon},
                                            Converter={StaticResource StringResourceToImageSourceConverter}}" />
                </Border>
            </Button>
            <Button x:Name="RemoveChildActionButton"
                    DockPanel.Dock="Right"
                    ToolTip="Remove"
                    Margin="5,0,5,0"
                    Background="Transparent"
                    Height="25"
                    Width="25"
                    BorderThickness="2"
                    local:MpHoverableExtension.IsEnabled="True"
                    local:MpHoverableExtension.InactiveBorderBrush="DimGray"
                    local:MpHoverableExtension.HoverBorderBrush="Red"
                    Style="{StaticResource SemiTransparentButton}"
                    Command="{Binding Parent.DeleteActionCommand}"
                    CommandParameter="{Binding}">
                <Border CornerRadius="2"
                        Background="LightGray">
                    <Image Stretch="Fill"
                           Source="{Binding .,
                                            Source={StaticResource MinusIcon},
                                            Converter={StaticResource StringResourceToImageSourceConverter}}" />
                </Border>
            </Button>
        </DockPanel>
    </StackPanel>
</local:MpUserControl>
