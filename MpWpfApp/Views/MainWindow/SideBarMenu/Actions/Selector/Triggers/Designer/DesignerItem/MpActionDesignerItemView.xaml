<local:MpUserControl x:Class="MpWpfApp.MpActionDesignerItemView"
                     xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                     xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                     xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
                     xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                     xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                     xmlns:dd="clr-namespace:GongSolutions.Wpf.DragDrop;assembly=GongSolutions.Wpf.DragDrop"
                     xmlns:sys="clr-namespace:System;assembly=mscorlib"
                     xmlns:pcl="clr-namespace:MonkeyPaste;assembly=MonkeyPaste"
                     xmlns:local="clr-namespace:MpWpfApp"
                     x:TypeArguments="local:MpActionViewModelBase"
                     mc:Ignorable="d"
                     d:DataContext="{d:DesignInstance Type=local:MpActionViewModelBase,
                                                      IsDesignTimeCreatable=False}">
    <local:MpUserControl.Resources>
        <DataTemplate x:Key="TriggerDesignerTemplate"
                      DataType="local:MpActionViewModelBase">
            <Ellipse Width="{Binding Width}"
                     Height="{Binding Height}"
                     StrokeThickness="3"
                     local:MpHoverableExtension.IsEnabled="True"
                     local:MpHoverableExtension.IsHovering="{Binding IsHovering,
                                                                     Mode=TwoWay,
                                                                     UpdateSourceTrigger=PropertyChanged,
                                                                     NotifyOnSourceUpdated=True,
                                                                     NotifyOnTargetUpdated=True}"
                     local:MpHoverableExtension.HoverCursor="ResizeAll"
                     Stroke="{Binding BorderBrushHexColor, Converter={StaticResource StringHexToBrushConverter}}"
                     Fill="{Binding ActionType,
                                    Converter={StaticResource ActionTypeToBrushConverter}}">
            </Ellipse>
        </DataTemplate>
        <DataTemplate x:Key="CompareDesignerTemplate"
                      DataType="local:MpActionViewModelBase">
            <Polygon Width="{Binding Width}"
                     Height="{Binding Height}"
                     Points="0,25 25,0 50,25 25,50"
                     StrokeThickness="3"
                     local:MpHoverableExtension.IsEnabled="True"
                     local:MpHoverableExtension.IsHovering="{Binding IsHovering,
                                                                     Mode=TwoWay,
                                                                     UpdateSourceTrigger=PropertyChanged,
                                                                     NotifyOnSourceUpdated=True,
                                                                     NotifyOnTargetUpdated=True}"
                     local:MpHoverableExtension.HoverCursor="ResizeAll"
                     Stroke="{Binding BorderBrushHexColor, Converter={StaticResource StringHexToBrushConverter}}"
                     Fill="{Binding ActionType,
                                    Converter={StaticResource ActionTypeToBrushConverter}}" />
        </DataTemplate>
        <DataTemplate x:Key="AnalyzeDesignerTemplate"
                      DataType="local:MpActionViewModelBase">
            <Rectangle Width="{Binding Width}"
                       Height="{Binding Height}"
                       RadiusX="10"
                       RadiusY="10"
                       Stroke="Green"
                       StrokeThickness="5"
                       Fill="Lime" />
        </DataTemplate>
        <DataTemplate x:Key="ClassifyDesignerTemplate"
                      DataType="local:MpActionViewModelBase">
            <Polygon Points="50,0 75,50 0,50"
                     Width="{Binding Width}"
                     Height="{Binding Height}"
                     Stroke="Blue"
                     StrokeThickness="3"
                     Fill="LightBlue" />
        </DataTemplate>
        <local:MpActionDesignerItemTemplateSelector x:Key="ActionDesignerItemTemplateSelector" />
    </local:MpUserControl.Resources>
    <Grid>
        <ContentControl Width="{Binding Width}"
                        Height="{Binding Height}"
                        Content="{Binding}"
                        VerticalAlignment="Top"
                        ContentTemplateSelector="{StaticResource ActionDesignerItemTemplateSelector}">
            <i:Interaction.Behaviors>
                <local:MpMoveBehavior IsMoving="{Binding IsMoving,
                                                         Mode=TwoWay,
                                                         UpdateSourceTrigger=PropertyChanged,
                                                         NotifyOnSourceUpdated=True,
                                                         NotifyOnTargetUpdated=True}"
                                      CanMove="{Binding CanMove,
                                                        Mode=TwoWay,
                                                        UpdateSourceTrigger=PropertyChanged,
                                                        NotifyOnSourceUpdated=True,
                                                        NotifyOnTargetUpdated=True}" />
            </i:Interaction.Behaviors>
        </ContentControl>
        <Label Height="30"
               BorderThickness="0"
               HorizontalAlignment="Stretch"
               VerticalAlignment="Stretch"
               HorizontalContentAlignment="Center"
               VerticalContentAlignment="Center"
               Margin="0,0,0,0"
               Foreground="Black"
               Background="Transparent"
               IsHitTestVisible="False"
               local:MpIsFocusedExtension.IsFocused="{Binding IsLabelFocused,
                                                              Mode=TwoWay,
                                                              NotifyOnTargetUpdated=True,
                                                              NotifyOnSourceUpdated=True,
                                                              UpdateSourceTrigger=PropertyChanged}"
               Content="{Binding Label,
                                 Mode=TwoWay,
                                 NotifyOnTargetUpdated=True,
                                 NotifyOnSourceUpdated=True,
                                 UpdateSourceTrigger=PropertyChanged}"
               FontSize="10" />
    </Grid>
</local:MpUserControl>
