<local:MpAvUserControl xmlns="https://github.com/avaloniaui"
                       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                       xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                       xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                       xmlns:sys="clr-namespace:System;assembly=mscorlib"
                       xmlns:local="using:MonkeyPaste.Avalonia"
                       xmlns:pcl="using:MonkeyPaste"
                       x:TypeArguments="local:MpAvMainWindowTitleMenuViewModel"
                       x:DataType="local:MpAvMainWindowTitleMenuViewModel"
                       x:CompileBindings="True"
                       DataContext="{x:Static local:MpAvMainWindowTitleMenuViewModel.Instance}"
                       mc:Ignorable="d"
                       d:DesignWidth="800"
                       d:DesignHeight="30"
                       x:Class="MonkeyPaste.Avalonia.MpAvMainWindowTitleMenuView">
    <local:MpAvUserControl.Styles>
        <!--  BUTTONS  -->

        <Style Selector="PathIcon">
            <Setter Property="Foreground"
                    Value="Black" />
        </Style>
        <Style Selector="PathIcon /template/ Path">
            <Setter Property="Margin"
                    Value="3" />
        </Style>
        <Style Selector="ToggleButton:checked /template/ ContentPresenter">
            <Setter Property="Background"
                    Value="Transparent" />
        </Style>
        <Style Selector="ToggleButton:checked PathIcon">
            <Setter Property="Foreground"
                    Value="Lime" />
        </Style>
        <Style Selector=":is(Button):pointerover PathIcon">
            <Setter Property="Foreground"
                    Value="Cornsilk" />
        </Style>

        <!--  DRAG HANDLE  -->

        <Style Selector="Button#WindowOrientationHandleButton:pointerover Image">
            <Setter Property="Source"
                    Value="{Binding Source={StaticResource Dots2x10Image}, Converter={x:Static local:MpAvStringHexToBitmapTintConverter.Instance}, ConverterParameter=yellow1}" />
        </Style>
        <Style Selector="Button#WindowOrientationHandleButton:pressed Image">
            <Setter Property="Source"
                    Value="{Binding Source={StaticResource Dots2x10Image}, Converter={x:Static local:MpAvStringHexToBitmapTintConverter.Instance}, ConverterParameter=dimgray}" />
        </Style>

        <!--  ZOOM SLIDER  -->
        <Style Selector="Border.zoomLine">
            <Setter Property="Background"
                    Value="Black" />
        </Style>
        <Style Selector="Button Border.zoomLine">
            <Setter Property="Background"
                    Value="White" />
        </Style>
        <Style Selector="Grid#ZoomSliderContainerGrid:pointerover Border.zoomLine">
            <Setter Property="Background"
                    Value="Yellow" />
        </Style>
        <Style Selector="Button:pointerover Border.zoomLine">
            <Setter Property="Background"
                    Value="Orange" />
        </Style>
        <Style Selector="Button:pressed Border.zoomLine">
            <Setter Property="Background"
                    Value="Red" />
        </Style>
        <Style Selector="Button#CurZoomValueCanvas:pressed">
            <Setter Property="ToolTip.Tip">
                <Setter.Value>
                    <Template>
                        <local:MpAvToolTipView ToolTipText="{Binding ZoomFactor, Source={x:Static local:MpAvClipTrayViewModel.Instance}, StringFormat='Scale \{0:f\} x'}" />
                    </Template>
                </Setter.Value>
            </Setter>
        </Style>
    </local:MpAvUserControl.Styles>
    <Grid x:Name="TitlePanel"
          HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch">
        <!--  Left Side  -->

        <StackPanel x:Name="LeftStackPanel"
                    Orientation="Horizontal"
                    HorizontalAlignment="Left">
            <!--  Settings Toggle Button  -->

            <ToggleButton x:Name="SettingsToggleButton"
                          Classes="noBg noHoverBg shakeOver"
                          Command="{Binding ShowSettingsWindowCommand, Source={x:Static local:MpAvSettingsViewModel.Instance}}"
                          IsChecked="{Binding IsVisible, Source={x:Static local:MpAvSettingsViewModel.Instance}, Mode=OneWay}"
                          ToolTip.ShowDelay="500">
                <ToggleButton.RenderTransform>
                    <RotateTransform />
                </ToggleButton.RenderTransform>
                <ToolTip.Tip>
                    <local:MpAvToolTipView ToolTipText="Settings" />
                </ToolTip.Tip>
                <PathIcon Data="{StaticResource CogSvg}" />
            </ToggleButton>

            <ToggleButton x:Name="LockToggleButton"
                          Command="{Binding ToggleMainWindowLockCommand, Source={x:Static local:MpAvMainWindowViewModel.Instance}}"
                          Classes="noBg noHoverBg shakeOver">

                <ToggleButton.RenderTransform>
                    <RotateTransform />
                </ToggleButton.RenderTransform>
                <ToolTip.Tip>
                    <local:MpAvToolTipView ToolTipText="Lock" />
                </ToolTip.Tip>
                <PathIcon Data="{StaticResource LockOutlineSvg}" />
            </ToggleButton>
        </StackPanel>

        <Button x:Name="WindowOrientationHandleButton"
                BorderThickness="0"
                Cursor="SizeAll"
                Classes="noBg noHoverBg outlineOver"
                HorizontalAlignment="Center"
                VerticalAlignment="Stretch">
            <Image Margin="5,0">
                <Image.RenderTransform>
                    <RotateTransform />
                </Image.RenderTransform>
            </Image>
        </Button>

        <StackPanel x:Name="RightStackPanel"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right">
            <!--  Zoom Factor Slider  -->
            <Grid x:Name="ZoomSliderContainerGrid"
                  ToolTip.ShowDelay="0"
                  ToolTip.Placement="Top"
                  ToolTip.Tip="{Binding ZoomFactor, Source={x:Static local:MpAvClipTrayViewModel.Instance}, Mode=OneWay, StringFormat='Scale {0}x'}"
                  Background="{StaticResource HitTestableTransparent}"
                  Cursor="Hand">
                <!--  TRACK LINE  -->
                <Border x:Name="ZoomTrackLine"
                        Classes="zoomLine" />
                <!--  MIN LINE  -->
                <Border x:Name="ZoomMinLine"
                        Classes="zoomLine" />
                <!--  MAX LINE  -->
                <Border x:Name="ZoomMaxLine"
                        Classes="zoomLine" />

                <!--  CUR VAL LINE  -->
                <Canvas x:Name="CurZoomValueCanvas"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch">
                    <Button x:Name="CurZoomFactorButton"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top"
                            BorderThickness="0"
                            Classes="noBg noHoverBg">
                        <!--<ToolTip.Tip>
                        <local:MpAvToolTipView ToolTipText="{Binding ZoomFactor, Source={x:Static local:MpAvClipTrayViewModel.Instance}, Mode=OneWay, StringFormat='Scale {0}x'}"/>
                      </ToolTip.Tip>-->
                        <Border Classes="zoomLine zoomValueLine"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch" />
                    </Button>
                </Canvas>
            </Grid>
            <!--  Layout Toggle Button  -->
            <ToggleButton x:Name="GridLayoutToggleButton"
                          Classes="noBg noHoverBg shakeOver"
                          IsChecked="{Binding IsGridLayout, Mode=TwoWay, Source={x:Static local:MpAvClipTrayViewModel.Instance}}"
                          ToolTip.ShowDelay="0">
                <ToggleButton.RenderTransform>
                    <RotateTransform />
                </ToggleButton.RenderTransform>
                <Grid>
                    <PathIcon IsVisible="{Binding IsGridLayout, Source={x:Static local:MpAvClipTrayViewModel.Instance}}"
                              Data="{StaticResource StackLayoutSvg}">
                        <ToolTip.Tip>
                            <local:MpAvToolTipView ToolTipText="Stack Layout" />
                        </ToolTip.Tip>
                    </PathIcon>
                    <PathIcon IsVisible="{Binding !IsGridLayout, Source={x:Static local:MpAvClipTrayViewModel.Instance}}"
                              Data="{StaticResource GridLayoutSvg}">
                        <ToolTip.Tip>
                            <local:MpAvToolTipView ToolTipText="Grid Layout" />
                        </ToolTip.Tip>
                    </PathIcon>
                </Grid>

            </ToggleButton>
            <!--  Orientation Cycle CW Button  -->

            <!--<Button x:Name="MainWindowCycleOrientationCwButton"
                    Command="{Binding CycleOrientationCommand}"
                    CommandParameter="CW"
                    ToolTip.ShowDelay="0">
                <ToolTip.Tip>
                    <local:MpAvToolTipView ToolTipText="Cycle Orientation CW" />
                </ToolTip.Tip>

                <PathIcon Data="{StaticResource RotateCcwSvg}">
                    <PathIcon.RenderTransform>
                        <ScaleTransform ScaleX="-1" />
                    </PathIcon.RenderTransform>
                </PathIcon>
            </Button>-->

            <!--  Orientation Cycle CCW Button  -->

            <Button x:Name="MainWindowCycleOrientationCcwButton"
                    Command="{Binding CycleOrientationCommand, Source={x:Static local:MpAvMainWindowViewModel.Instance}}"
                    CommandParameter="CCW"
                    Classes="noBg noHoverBg shakeOver"
                    local:MpAvPointerCommandExtension.IsEnabled="True"
                    local:MpAvPointerCommandExtension.RightPressCommand="{Binding CycleOrientationCommand, Source={x:Static local:MpAvMainWindowViewModel.Instance}}"
                    local:MpAvPointerCommandExtension.RightPressCommandParameter="CW">

                <Button.RenderTransform>
                    <RotateTransform />
                </Button.RenderTransform>
                <ToolTip.Tip>
                    <local:MpAvToolTipView ToolTipText="Cycle Orientation CCW" />
                </ToolTip.Tip>

                <PathIcon Data="{StaticResource RotateCcwSvg}" />
            </Button>
        </StackPanel>

    </Grid>
</local:MpAvUserControl>
