<local:MpAvUserControl xmlns="https://github.com/avaloniaui"
                       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                       xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                       xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                       xmlns:local="using:MonkeyPaste.Avalonia"
                       xmlns:pcl="using:MonkeyPaste"
                       x:TypeArguments="local:MpAvMainWindowViewModel"
                       x:DataType="local:MpAvMainWindowViewModel"
                       x:CompileBindings="True"
                       mc:Ignorable="d"
                       d:DesignWidth="800"
                       d:DesignHeight="30"
                       x:Class="MonkeyPaste.Avalonia.MpAvMainWindowTitleMenuView">
    <RelativePanel x:Name="TitlePanel"
                   Background="{Binding TitleBarBackgroundHexColor,
                                        Converter={StaticResource StringHexToBrushConverter}}"
                   HorizontalAlignment="Stretch"
                   VerticalAlignment="Stretch">
        <RelativePanel.Styles>
            <Style Selector=":is(Button)">
                <Setter Property="Padding"
                        Value="1" />
                <Setter Property="Margin"
                        Value="0,0,3,0" />
                <Setter Property="Foreground"
                        Value="White" />
                <Setter Property="VerticalAlignment"
                        Value="Stretch" />
                <Setter Property="VerticalContentAlignment"
                        Value="Center" />
                <Setter Property="HorizontalContentAlignment"
                        Value="Center" />
                <Setter Property="Background"
                        Value="Transparent" />
                <Setter Property="Width"
                        Value="{Binding Bounds.Height,
                                        ElementName=TitlePanel}" />
                <Setter Property="Cursor"
                        Value="Hand" />
            </Style>
            <Style Selector=":is(Button):pointerover">
                <Setter Property="Background"
                        Value="Transparent" />
            </Style>
            <Style Selector="Path:pointerenter">
                <Setter Property="Fill"
                        Value="Yellow" />
            </Style>
            <Style Selector="Path:pointerleave">
                <Setter Property="Fill"
                        Value="Wheat" />
            </Style>
            <Style Selector="Path">
                <Setter Property="Fill"
                        Value="Wheat" />
                <Setter Property="Stroke"
                        Value="Transparent" />
                <Setter Property="VerticalAlignment"
                        Value="Center" />
            </Style>
            <Style Selector="Viewbox">
                <Setter Property="Margin"
                        Value="1" />
                <Setter Property="Stretch"
                        Value="Fill" />
                <Setter Property="HorizontalAlignment"
                        Value="Stretch" />
                <Setter Property="VerticalAlignment"
                        Value="Stretch" />
            </Style>
        </RelativePanel.Styles>
        <!--  Left Side  -->

        <!--  Settings Toggle Button  -->

        <ToggleButton x:Name="SettingsToggleButton"
                      RelativePanel.AlignLeftWithPanel="True"
                      IsChecked="{Binding IsVisible,
                                          Source={x:Static local:MpAvSettingsWindowViewModel.Instance}}"
                      ToolTip.ShowDelay="500">
            <ToolTip.Tip>
                <local:MpAvTooltipView ToolTipText="Settings" />
            </ToolTip.Tip>
            <StackPanel>
                <Viewbox IsVisible="{Binding !IsVisible,
                                             Source={x:Static local:MpAvSettingsWindowViewModel.Instance}}">
                    <Path Data="{StaticResource CogOutlineSvg}" />
                </Viewbox>
                <Viewbox IsVisible="{Binding IsVisible,
                                             Source={x:Static local:MpAvSettingsWindowViewModel.Instance}}">
                    <Path Data="{StaticResource CogSvg}" />
                </Viewbox>
            </StackPanel>
        </ToggleButton>

        <!--  Lock Toggle Button  -->

        <ToggleButton x:Name="LockToggleButton"
                      RelativePanel.RightOf="SettingsToggleButton"
                      IsChecked="{Binding IsMainWindowLocked,
                                          Mode=TwoWay}"
                      ToolTip.ShowDelay="500">
            <ToolTip.Tip>
                <local:MpAvTooltipView ToolTipText="Lock" />
            </ToolTip.Tip>
            <StackPanel>
                <Viewbox IsVisible="{Binding !IsMainWindowLocked}">
                    <Path Data="{StaticResource LockOutlineSvg}" />
                </Viewbox>
                <Viewbox IsVisible="{Binding IsMainWindowLocked}">
                    <Path Data="{StaticResource LockSvg}" />
                </Viewbox>
            </StackPanel>
        </ToggleButton>

        <!--  Right Side  -->

        <!--  Zoom Factor Slider  -->
        <Slider Value="{Binding ZoomFactor,
                                Mode=TwoWay,
                                Source={x:Static local:MpAvClipTrayViewModel.Instance}}"
                Minimum="50"
                Maximum="{Binding MainWindowScreen.Bounds.Width,
                                  Source={x:Static local:MpAvMainWindowViewModel.Instance}}"
                Orientation="Horizontal"
                IsSnapToTickEnabled="False"
                TickPlacement="Outside" 
                TickFrequency="100" 
                Height="{Binding Bounds.Height,
                                 ElementName=TitlePanel}"
                Width="250"
                Margin="0,0,5,0"
                RelativePanel.LeftOf="GridLayoutToggleButton">
            <Slider.Styles>
                <Style Selector="Slider /template/ Thumb">
                    <Setter Property="ToolTip.Tip"
                            Value="{Binding $parent[Slider].Value,
                                            Mode=OneWay,
                                            StringFormat='Value \{0:f\}'}" />
                    <Setter Property="ToolTip.Placement"
                            Value="Top" />
                    <Setter Property="ToolTip.VerticalOffset"
                            Value="-10" />
                    <Setter Property="ToolTip.HorizontalOffset"
                            Value="-30" />
                </Style>
            </Slider.Styles>
        </Slider>

        <!--  Layout Toggle Button  -->
        <ToggleButton x:Name="GridLayoutToggleButton"
                      RelativePanel.LeftOf="MainWindowOrientationButton"
                      IsChecked="{Binding IsGridLayout,
                                          Mode=TwoWay,
                                          Source={x:Static local:MpAvClipTrayViewModel.Instance}}"
                      ToolTip.ShowDelay="0">
            <ToolTip.Tip>
                <local:MpAvTooltipView ToolTipText="Hide Filter Menu" />
            </ToolTip.Tip>
            <Viewbox>
                <Path Data="{StaticResource GridLayoutSvg}" />
            </Viewbox>
        </ToggleButton>

        <!--  Orientation Cycle Button  -->

        <Button x:Name="MainWindowOrientationButton"
                RelativePanel.AlignRightWithPanel="True"
                Command="{Binding CycleOrientationCcwCommand}"
                ToolTip.ShowDelay="0">
            <ToolTip.Tip>
                <local:MpAvTooltipView ToolTipText="Hide Filter Menu" />
            </ToolTip.Tip>
            <Viewbox>
                <Path Data="{StaticResource RotateCcwSvg}" />
            </Viewbox>
        </Button>

    </RelativePanel>
</local:MpAvUserControl>
