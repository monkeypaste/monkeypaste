<local:MpAvUserControl x:Class="MonkeyPaste.Avalonia.MpAvSearchCriteriaListBoxView"
                       xmlns="https://github.com/avaloniaui"
                       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                       xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                       xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                       xmlns:sys="clr-namespace:System;assembly=mscorlib"
                       xmlns:local="using:MonkeyPaste.Avalonia"
                       xmlns:pcl="using:MonkeyPaste"
                       x:DataType="local:MpAvSearchCriteriaItemCollectionViewModel"
                       x:TypeArguments="local:MpAvSearchCriteriaItemCollectionViewModel"
                       x:CompileBindings="True"
                       mc:Ignorable="d"
                       d:DesignHeight="450"
                       d:DesignWidth="800">
    <local:MpAvUserControl.Resources>
        <Thickness x:Key="ListBoxItemPadding">
            0
        </Thickness>
        <Thickness x:Key="CriteriaItemBorderThickness">
            <!--  MUST MATCH VM VALUE  -->
            0,1,0,1
        </Thickness>
    </local:MpAvUserControl.Resources>
    <local:MpAvUserControl.Styles>
        <Style Selector="TextBlock">
            <Setter Property="FontFamily"
                    Value="Calibri" />
        </Style>
        <!--  CRITIERA ITEM  -->
        <Style Selector="ListBoxItem">
            <Setter Property="HorizontalContentAlignment"
                    Value="Left" />
            <Setter Property="VerticalContentAlignment"
                    Value="Stretch" />
            <Setter Property="HorizontalAlignment"
                    Value="Stretch" />
            <Setter Property="VerticalAlignment"
                    Value="Stretch" />
        </Style>
        <Style Selector="ListBox.criteriaList > ListBoxItem, local|MpAvSearchCriteriaHeaderView">
            <Setter Property="BorderThickness"
                    Value="{StaticResource CriteriaItemBorderThickness}" />
            <Setter Property="BorderBrush"
                    Value="Gainsboro" />
        </Style>

        <Style Selector="ListBox.criteriaList ListBoxItem:pointerover, local|MpAvSearchCriteriaHeaderView">
            <Setter Property="BorderBrush"
                    Value="Yellow" />
        </Style>
        <Style Selector="local|MpAvSearchCriteriaItemView">
            <Setter Property="BorderBrush"
                    Value="DimGray" />
            <Setter Property="Width"
                    Value="{Binding QueryTrayScreenWidth, Source={x:Static local:MpAvClipTrayViewModel.Instance}}" />
        </Style>
        <Style Selector="ListBoxItem:nth-child(even) local|MpAvSearchCriteriaItemView">
            <Setter Property="Background"
                    Value="{DynamicResource SearchCriteriaRowBgBrush1}" />
        </Style>
        <Style Selector="ListBoxItem:nth-child(odd) local|MpAvSearchCriteriaItemView">
            <Setter Property="Background"
                    Value="{DynamicResource SearchCriteriaRowBgBrush2}" />
        </Style>
        <Style Selector="ListBoxItem:pointerover local|MpAvSearchCriteriaItemView">
            <Setter Property="Background"
                    Value="{DynamicResource SearchCriteriaRowBgHoverBrush}" />
        </Style>
        <Style Selector="ListBoxItem:selected local|MpAvSearchCriteriaItemView">
            <Setter Property="BorderBrush"
                    Value="Red" />
        </Style>

        <!--  ADD/REMOVE BUTTONS  -->

        <Style Selector="Button.addRemoveBtn">
            <Setter Property="Margin"
                    Value="3,0" />
            <Setter Property="Width"
                    Value="25" />
            <Setter Property="Height"
                    Value="25" />
            <Setter Property="BorderThickness"
                    Value="2" />
            <Setter Property="VerticalAlignment"
                    Value="Center" />
        </Style>

        <Style Selector="Button.addRemoveBtn Border">
            <Setter Property="BorderThickness"
                    Value="1" />
            <Setter Property="BorderBrush"
                    Value="DimGray" />
            <Setter Property="CornerRadius"
                    Value="2" />
        </Style>
        <Style Selector="Button.addRemoveBtn:pointerover Border">
            <Setter Property="BorderBrush"
                    Value="LightGray" />
        </Style>
        <Style Selector="Button.addRemoveBtn Image">
            <Setter Property="Stretch"
                    Value="Fill" />
        </Style>
    </local:MpAvUserControl.Styles>
    <ScrollViewer x:Name="SearchCriteriaContainerScrollViewer"
                  MaxHeight="{Binding MaxSearchCriteriaListBoxHeight}"
                  VerticalAlignment="Top"
                  VerticalContentAlignment="Stretch"
                  HorizontalAlignment="Stretch"
                  HorizontalScrollBarVisibility="Auto"
                  VerticalScrollBarVisibility="Auto">
        <Grid RowDefinitions="Auto,*">
            <local:MpAvSearchCriteriaHeaderView Grid.Row="0"
                                                IsVisible="{Binding IsPendingQuery}"
                                                Height="{Binding BoundHeaderHeight, Mode=TwoWay}"
                                                Background="{DynamicResource SearchCriteriaRowBgBrush1}"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Stretch" />
            <ListBox x:Name="SearchCriteriaListBox"
                     Classes="criteriaList"
                     DragDrop.AllowDrop="True"
                     Grid.Row="1"
                     Background="Transparent"
                     BorderThickness="0"
                     BorderBrush="Black"
                     Items="{Binding SortedItems}"
                     SelectedItem="{Binding SelectedItem, Mode=TwoWay}"
                     SelectionMode="Single"
                     HorizontalAlignment="Stretch"
                     VerticalAlignment="Stretch"
                     ScrollViewer.VerticalScrollBarVisibility="Hidden"
                     ScrollViewer.HorizontalScrollBarVisibility="Hidden">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Grid>
                            <local:MpAvSearchCriteriaItemView BorderThickness="0"
                                                              Height="{Binding CriteriaItemHeight}"
                                                              DataContext="{Binding}" />
                            <Border IsVisible="{Binding IsDragOverTop}"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Top"
                                    Background="Red"
                                    Height="5" />
                            <Border IsVisible="{Binding IsDragOverBottom}"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Bottom"
                                    Background="Red"
                                    Height="5" />
                        </Grid>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Grid>
    </ScrollViewer>
</local:MpAvUserControl>
