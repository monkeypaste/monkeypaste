<local:MpAvUserControl x:Class="MonkeyPaste.Avalonia.MpAvTriggerActionChooserView"
                       xmlns="https://github.com/avaloniaui"
                       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                       xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                       xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                       xmlns:sys="clr-namespace:System;assembly=mscorlib"
                       xmlns:local="using:MonkeyPaste.Avalonia"
                       x:CompileBindings="True"
                       DataContext="{x:Static local:MpAvTriggerCollectionViewModel.Instance}"
                       x:TypeArguments="local:MpAvTriggerCollectionViewModel"
                       x:DataType="local:MpAvTriggerCollectionViewModel"
                       mc:Ignorable="d"
                       d:DesignHeight="450"
                       d:DesignWidth="800">

    <!--<Grid x:Name="TriggerSelectorViewContainerGrid"
          ColumnDefinitions="400,*">-->
    <Border HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            Background="{DynamicResource AnalyzerSidebarBgBrush}">
        <ScrollViewer HorizontalScrollBarVisibility="Disabled"
                      VerticalScrollBarVisibility="Auto">
            <WrapPanel Orientation="Horizontal"
                       ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                       ScrollViewer.VerticalScrollBarVisibility="Disabled">

                <!--  TRIGGER SELECTOR & SELECTED ACTION PROPERTY COLUMN  -->

                <Border CornerRadius="3"
                        Background="{DynamicResource ActionPropertyListBgBrush}"
                        Grid.Column="0"
                        Width="350"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top">
                    <Border.Styles>
                        <Style Selector="local|MpAvPluginSelectorView TextBlock">
                            <Setter Property="Foreground"
                                    Value="White" />
                        </Style>
                    </Border.Styles>
                    <Grid Margin="10,0,10,10"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          RowDefinitions="25,5,50,*"
                          ColumnDefinitions="*,25,25">
                        <!--  TRIGGER SELECTOR HEADER  -->
                        <Label Grid.Row="0"
                               Grid.Column="0"
                               Grid.ColumnSpan="3"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Top"
                               Classes="h1"
                               Content="Trigger" />
                        <Border Grid.Row="1"
                                Grid.Column="0"
                                Grid.ColumnSpan="3"
                                Classes="labelUnderline"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Bottom" />


                        <!--  TRIGGER SELECTOR  -->
                        <Border Classes="iconLabelComboBox"
                                Grid.Row="2"
                                Grid.Column="0">
                            <ComboBox x:Name="TriggerComboBox"
                                      SelectedIndex="{Binding SelectedTriggerIdx, Mode=TwoWay}"
                                      Items="{Binding SortedTriggers}">
                                <ComboBox.ItemTemplate>
                                    <DataTemplate>
                                        <Border Classes="outerComboBoxItemBorder"
                                                IsVisible="{Binding ., Converter={StaticResource IsNotNullZeroOrEmptyToBoolConverter}}">
                                            <DockPanel LastChildFill="True">
                                                <Image DockPanel.Dock="Left"
                                                       Source="{Binding IconResourceObj, Converter={StaticResource IconSourceObjToBitmapConverter}}" />
                                                <TextBlock Text="{Binding Label}" />
                                            </DockPanel>
                                        </Border>
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                            </ComboBox>
                        </Border>

                        <!--  ADD TRIGGER BUTTON  -->

                        <Button x:Name="AddTriggerButton"
                                Grid.Row="2"
                                Grid.Column="1"
                                Cursor="Hand"
                                Classes="hoverOutline"
                                Margin="5"
                                Command="{Binding ShowTriggerSelectorMenuCommand}"
                                CommandParameter="{Binding $self}">
                            <ToolTip.Tip>
                                <local:MpAvToolTipView ToolTipText="New Trigger" />
                            </ToolTip.Tip>
                            <Image Source="{Binding ., Converter={StaticResource IconSourceObjToBitmapConverter}, Source={StaticResource AddImage}}"
                                   Margin="5"
                                   Width="15"
                                   Height="15" />
                        </Button>

                        <!--  SELECTED TRIGGER ACTION PROPERTY VIEW  -->
                        <Border x:Name="ActionPropertyContainer"
                                Grid.Row="3"
                                Grid.Column="0"
                                Grid.ColumnSpan="3"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Top"
                                Margin="0,10,0,0"
                                Padding="0,0,30,0">
                            <StackPanel>
                                <Label HorizontalAlignment="Left"
                                       Classes="h1"
                                       Content="Action" />
                                <Border Classes="labelUnderline"
                                        HorizontalAlignment="Stretch"
                                        VerticalAlignment="Bottom" />
                                <ScrollViewer DataContext="{Binding FocusAction}">

                                    <local:MpAvActionPropertyView VerticalAlignment="Stretch"
                                                                  HorizontalAlignment="Stretch"
                                                                  IsVisible="{Binding ., Converter={StaticResource IsNotNullZeroOrEmptyToBoolConverter}, FallbackValue=False, TargetNullValue=False}"
                                                                  DataContext="{Binding}" />
                                </ScrollViewer>
                            </StackPanel>
                        </Border>
                    </Grid>
                </Border>


                <!--  SELECTED TRIGGER DESIGNER COLUMN  -->

                <Border x:Name="ActionDesignerOuterContainerBorder"
                        Grid.Column="1"
                        IsVisible="{Binding !IsDesignerWindowOpen}"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top">
                    <Border x:Name="ActionDesignerInnerContainerBorder"
                            ClipToBounds="True"
                            MinWidth="350"
                            MinHeight="350"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Stretch">
                        <local:MpAvActionDesignerView DataContext="{Binding}"
                                                      HorizontalAlignment="Stretch"
                                                      VerticalAlignment="Stretch" />
                    </Border>
                </Border>
                <!--</Grid>-->

            </WrapPanel>
        </ScrollViewer>
    </Border>
</local:MpAvUserControl>
