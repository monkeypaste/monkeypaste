<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        d:DesignWidth="800"
        d:DesignHeight="450"
        xmlns:local="using:MonkeyPaste.Avalonia"
        SizeToContent="Width"
        Height="300"
        MinWidth="400"
        Topmost="True"
        ShowInTaskbar="False"
        WindowStartupLocation="CenterScreen"
        x:DataType="local:MpAvAssignShortcutModalWindowViewModel"
        x:CompileBindings="True"
        x:Class="MonkeyPaste.Avalonia.MpAvAssignShortcutWindow"
        Title="Assign Shortcut">
    <Grid RowDefinitions="20,*,Auto,Auto,50">
        <TextBlock Grid.Row="0"
                   FontSize="16"
                   HorizontalAlignment="Center"
                   Text="{Binding ShortcutDisplayName}" />
        <Border Grid.Row="1" CornerRadius="10"
                BorderThickness="0"
                HorizontalAlignment="Center"
                Padding="10"
                IsVisible="{Binding !IsEmpty}"
                Margin="20,10"
                MinHeight="65">
            <!--<DataGrid x:Name="ShortcutDataGrid"
                MinHeight="65"
                Background="Transparent"
                BorderThickness="0"
                HorizontalAlignment="Center"
                ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                ScrollViewer.VerticalScrollBarVisibility="Hidden">
      </DataGrid>-->
            <ListBox MinHeight="65"
                     Background="Transparent"
                     BorderThickness="0"
                     HorizontalAlignment="Center"
                     Items="{Binding KeyItems}"
                     ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                     ScrollViewer.VerticalScrollBarVisibility="Hidden">
                <ListBox.ItemsPanel>
                    <ItemsPanelTemplate>
                        <VirtualizingStackPanel Orientation="Horizontal"
                                                Background="Transparent"
                                                VerticalAlignment="Center"
                                                HorizontalAlignment="Center" />
                    </ItemsPanelTemplate>
                </ListBox.ItemsPanel>
                <ListBox.Resources>
                    <SolidColorBrush x:Key="SystemControlHighlightListAccentLowBrush">
                        Transparent
                    </SolidColorBrush>
                    <SolidColorBrush x:Key="SystemControlHighlightListAccentMediumBrush">
                        Transparent
                    </SolidColorBrush>
                    <SolidColorBrush x:Key="SystemControlHighlightListAccentHighBrush">
                        Transparent
                    </SolidColorBrush>
                    <SolidColorBrush x:Key="SystemControlHighlightListLowBrush">
                        Transparent
                    </SolidColorBrush>
                    <SolidColorBrush x:Key="SystemControlHighlightListMediumBrush">
                        Transparent
                    </SolidColorBrush>
                    <SolidColorBrush x:Key="SystemControlHighlightListHighBrush">
                        Transparent
                    </SolidColorBrush>
                </ListBox.Resources>
                <ListBox.Styles>
                    <Style Selector="ListBoxItem">
                        <Setter Property="FocusAdorner"
                                Value="{x:Null}" />
                    </Style>
                    <Style Selector="ListBoxItem:pointerover /template/ ContentPresenter">
                        <Setter Property="Background"
                                Value="Transparent" />
                    </Style>

                    <Style Selector="ListBoxItem:selected /template/ ContentPresenter">
                        <Setter Property="Background"
                                Value="Transparent" />
                    </Style>

                    <Style Selector="ListBoxItem:selected:focus /template/ ContentPresenter">
                        <Setter Property="Background"
                                Value="Transparent" />
                    </Style>

                    <Style Selector="ListBoxItem:selected:pointerover /template/ ContentPresenter">
                        <Setter Property="Background"
                                Value="Transparent" />
                    </Style>

                    <Style Selector="ListBoxItem:selected:focus:pointerover /template/ ContentPresenter">
                        <Setter Property="Background"
                                Value="Transparent" />
                    </Style>
                </ListBox.Styles>
                <ListBox.ItemTemplate>
                    <DataTemplate x:DataType="local:MpShortcutKeyViewModel">
                        <Border BorderBrush="Black"
                                BorderThickness="0"
                                Background="Transparent">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                </Grid.ColumnDefinitions>
                                <Border Grid.Column="0"
                                        HorizontalAlignment="Left"
                                        Background="LightGray"
                                        BorderBrush="DarkGray"
                                        Margin="0"
                                        BorderThickness="2"
                                        CornerRadius="5">
                                    <TextBlock HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Padding="10,5,10,5"
                                               FontSize="14"
                                               Foreground="Black"
                                               Text="{Binding KeyStr,
                                                              Converter={StaticResource EnumToKeyLiteralConverter}}"
                                               FontWeight="Bold" />
                                </Border>
                                <Label x:Name="ComboLabel"
                                       IsVisible="{Binding ShowPlus}"
                                       Content="+"
                                       Grid.Column="1"
                                       FontSize="14"
                                       FontWeight="Bold"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center" />
                                <Label x:Name="SequenceLabel"
                                       IsVisible="{Binding ShowComma}"
                                       Content=","
                                       Grid.Column="1"
                                       FontSize="20"
                                       FontWeight="Bold"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Bottom" />
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>
        <TextBlock Grid.Row="2" FontSize="10"
                   MinHeight="30"
                   IsVisible="False"
                   FontStyle="Oblique"
                   TextWrapping="Wrap"
                   HorizontalAlignment="Center"
                   Foreground="Red"
                   Text="{Binding KeyString}" />
        <Border Grid.Row="3" Background="{Binding WarningBorderHexColor,
                                     Converter={StaticResource StringHexToBrushConverter}}"
                IsVisible="{Binding HasWarning}"
                Margin="10"
                CornerRadius="10"
                MaxWidth="350"
                BorderThickness="1"
                BorderBrush="AntiqueWhite">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.1*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Image Source="{Binding WarningBmp}"
                       Margin="10,7,0,7"
                       Width="25"
                       Height="25"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Center" />
                <TextBlock Grid.Column="1"
                           FontSize="14"
                           FontStyle="Oblique"
                           TextWrapping="WrapWithOverflow"
                           HorizontalAlignment="Left"
                           VerticalAlignment="Center"
                           Padding="10,5"
                           Foreground="{Binding WarningTextHexColor,
                                                Converter={StaticResource StringHexToBrushConverter}}"
                           Text="{Binding WarningString}" />
            </Grid>
        </Border>
        <Grid Grid.Row="4"
              HorizontalAlignment="Stretch"
              VerticalAlignment="Bottom"
              ColumnDefinitions="*,*,*">
            <Button Margin="10"
                    Grid.Column="0"
                    MinHeight="30"
                    BorderThickness="0"
                    IsCancel="True"
                    Click="Cancel_Click"
                    Content="Cancel"
                    HorizontalAlignment="Stretch" />
            <Button Margin="10"
                    Grid.Column="1"
                    Content="Clear"
                    HorizontalAlignment="Stretch"
                    Command="{Binding ClearCommand}" />
            <Button Margin="10"
                    Grid.Column="2"
                    Content="Ok"
                    HorizontalAlignment="Stretch"
                    IsDefault="True"
                    Click="Ok_Click" />
        </Grid>
    </Grid>
</Window>
